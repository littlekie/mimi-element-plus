var ss=Object.defineProperty;var es=(s,l,n)=>l in s?ss(s,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[l]=n;var d=(s,l,n)=>(es(s,typeof l!="symbol"?l+"":l,n),n);import{d as N,a as v,o as D,c as F,u as C,n as T,b as O,e as p,t as S,f as ns,_ as as,g as G,r as m,h as ls,w as K,i as Y,F as k,j,k as z,l as ts,m as os,v as ps,p as cs,q as J,s as rs,x as X,y as Q,z as is}from"./app.b2947a9f.js";const ds=["id"],Ds={class:"wh-item-content"},ys={key:1,class:"wh-item_label wh-item-text"},us={key:1,class:"iconfont menuItem__postfix icon-Keypad_right"},Fs={key:2,class:"iconfont menuItem__postfix icon-Selection"},Cs=N({__name:"menu-item",props:{node:null,id:null,isFocus:{type:Boolean},isActive:{type:Boolean}},setup(s,{expose:l}){const n=s,o={0:"icon-epg-DVB",1:"icon-epg-TXT",2:"icon-epg-Hearing_Impaired_d",3:"icon-Visually_Impaired_d",4:"icon-epg-Dolby_d",5:"icon-epg_AAC"},a=v(()=>n.node.iconType>-1?o[n.node.iconType]:null),y=v(()=>!n.node.isLeaf&&!n.node.isDisabled),i=v(()=>n.node.isLeaf&&n.node.isChecked);return l({hasExpandIcon:y,hasCheckIcon:i}),(c,u)=>(D(),F("div",{id:s.id+"",class:T(["wh-list-item wh-menu-item",{is_disabled:s.node.isDisabled,highlight:s.isFocus,in_active_path:s.isActive}]),role:"menuItem"},[C(a)?(D(),F("div",{key:0,class:T(["iconfont menuItem__Prefix",C(a)])},null,2)):O("",!0),p("div",Ds,[s.node.cssName?(D(),F("div",{key:0,class:T(["text_marquee",s.node.cssName])},null,2)):(D(),F("span",ys,S(s.node.text),1)),p("span",null,S(s.node.nameExtra),1)]),C(y)?(D(),F("div",us)):C(i)?(D(),F("div",Fs)):O("",!0)],10,ds))}}),As=N({name:"MenuItemProgress",props:{modelValue:{type:Number,default:0},maxSize:{type:Number,default:0},minSize:{type:Number,default:0},isFocus:{type:Boolean,default:0}},emits:["update:modelValue","onChange"],setup(s,{emit:l,expose:n}){const o=v(()=>{const c=s.modelValue+s.minSize,u=s.maxSize+s.minSize;return c/u*100+"%"});function a(){s.modelValue>s.minSize&&i(s.modelValue-1)}function y(){s.modelValue<s.maxSize&&i(s.modelValue+1)}function i(c){l("update:modelValue",c),ns().then(()=>l("onChange",c))}return n({RIGHT:y,LEFT:a}),{progressWidth:o,RIGHT:y,LEFT:a}}}),hs={class:"wh-ap-currentValue"},_s={class:"wh-apc-line"},ms={class:"wh-ap-maxSize"};function fs(s,l,n,o,a,y){return D(),F("div",{class:T(["wh-option-progress menu-item-progress",{highlight:s.isFocus}]),role:"menuItemBar"},[p("div",hs,[p("div",_s,[p("div",{style:G({width:s.progressWidth}),class:"wh-apc-progress"},null,4),p("div",{style:G({left:s.modelValue/s.maxSize*100+"%"}),class:"wh-apc-ball"},null,4)])]),p("div",ms,S(s.modelValue),1)],2)}var vs=as(As,[["render",fs]]);const W={OPTION_UAM_VOL_VISU:[0,100],OPTION_UAM_DIALOG_ENHANCE_LEVEL:[0,9]};var M=(s=>(s[s.IS_DEFAULT=-1]="IS_DEFAULT",s[s.IS_RADIO=0]="IS_RADIO",s[s.IS_BAR=2]="IS_BAR",s))(M||{});class q{constructor(l,n){d(this,"nodeData");d(this,"parent");d(this,"data",[]);d(this,"cssName","");d(this,"name","");d(this,"value",0);d(this,"progressValue",0);d(this,"progressMaxSize",0);d(this,"progressMinSize",0);d(this,"level");d(this,"isChecked");d(this,"iconType",-1);d(this,"hasChildren",!1);d(this,"disabled",!1);d(this,"chLockState",!1);d(this,"nodeType",-1);d(this,"children",[]);this.nodeData=l,this.parent=n||null,this.level=this.parent?this.parent.level+1:1,this.isChecked=!1,this.initState(),this.initChildren()}initState(){const{index:l,label:n,name:o,selected:a,iconType:y,type:i,mlang_key:c,disabled:u,chLockState:x}=this.nodeData;this.value=l,this.name=o||"",this.cssName=c||"",this.isChecked=Boolean(a),this.iconType=y||-1,this.nodeType=i,this.disabled=Boolean(u)||!1,this.chLockState=Boolean(x)||!1,this.nodeType===2&&(this.progressValue=a||0,this.progressMaxSize=W[this.cssName][1],this.progressMinSize=W[this.cssName][0])}initChildren(){const l=this.nodeData.data||[];this.hasChildren=Array.isArray(l)&&l.length>0,this.children=l.map(n=>new q(n,this))}get isDisabled(){const{nodeData:l,parent:n}=this;return Boolean(l.disabled)||Boolean(n&&n.isDisabled)}get isLeaf(){return!this.hasChildren}get nameExtra(){return this.nodeData.nameExtra||""}get text(){return this.name}getNodeType(){return this.nodeType}}function Z(){const s=m([]);return s.value.set=l=>{l&&s.value.push(l)},ls(()=>{s.value.length=0}),s}function Is(s){return s===void 0}const gs=["id"],Ts={class:"wh-sc-header"},xs={class:"wh-sc-header-title"},Es=p("div",{class:"underline"},null,-1),Ms={class:"arrow-up iconfont"},Ns={class:"wh-sc-content"},bs={class:"wh-sc-content-list"},ks={class:"arrow-down iconfont"},Os=N({__name:"sub-menu",props:{id:{default:0},subMenuData:null,currentFocusMenuIndex:{default:0},currentFocusItemIndex:{default:0},cssHeaderTitle:null,headerTitle:null},emits:["clickItemHandler","collapseSubMenu","berforeClose","volumeBarAdjust","openNextMenu","update:currentFocusItemIndex","changeCurrentFocusItemIndex"],setup(s,{expose:l,emit:n}){const o=s,a=m(0),y=m(0),i=m(!1),c=m(!1),u=v(()=>o.currentFocusMenuIndex===o.id);u&&h(o.currentFocusItemIndex);const x=v(()=>o.subMenuData[a.value]),f=Z();K(()=>o.currentFocusItemIndex,e=>{u.value&&h(e)}),K(()=>o.subMenuData,e=>{if((e==null?void 0:e.length)&&u.value){const r=e.findIndex(A=>A.isChecked);a.value=r>-1?r:0}},{deep:!0,immediate:!0});function L(e,r){if(!e.isDisabled){if(!e.isLeaf)return h(r),n("clickItemHandler",e),n("openNextMenu",e);e.nodeType===M.IS_RADIO&&!e.isChecked&&(o.subMenuData[a.value].isChecked=!1,e.isChecked=!0),!e.parent&&e.isLeaf&&n("collapseSubMenu",e),h(r),n("clickItemHandler",e)}}function b(e){var r;(r=I[e])==null||r.call(I)}function w(){const e=o.subMenuData[a.value];e.nodeType===M.IS_RADIO&&!e.isChecked?(_(e),n("clickItemHandler",e)):e.isLeaf?n("clickItemHandler",e):n("openNextMenu",e)}function B(){let e=a.value;for(let r=o.subMenuData.length-1;r>=0;r--)if(!o.subMenuData[r].isDisabled&&r<a.value)return e=r,e;return e}function V(){let e=a.value;for(let r=0;r<o.subMenuData.length;r++)if(!o.subMenuData[r].isDisabled&&r>a.value)return e=r,e;return e}function U(){a.value===0?h(o.subMenuData.length-1):h(B())}function H(){a.value===o.subMenuData.length-1?h(0):h(V())}function P(){var e;(e=f.value[0])==null||e.RIGHT()}function R(){var e;(e=f.value[0])==null||e.LEFT()}function t(){x.value.parent?n("collapseSubMenu",x.value):n("berforeClose")}function _(e){e.nodeType===M.IS_RADIO&&!e.isChecked&&(o.subMenuData[y.value].isChecked=!1,e.isChecked=!0)}function E(e){n("volumeBarAdjust",e)}function h(e){y.value=a.value,a.value=e,n("update:currentFocusItemIndex",e),n("changeCurrentFocusItemIndex",e)}const I={DOWN:H,UP:U,RIGHT:P,LEFT:R,ENTER:w,BACK:t};return l({menuItemActiveIndex:a,activeMenu:u,KEYDOWN:b,lastMenuItemActiveIndex:y}),(e,r)=>(D(),F("div",{id:"sidebar_"+s.id,class:"wh-sidebar",role:"subMenu"},[p("div",Ts,[s.id===0?Y(e.$slots,"header",{key:0},()=>[C(Is)(s.cssHeaderTitle||s.headerTitle)?O("",!0):(D(),F(k,{key:0},[p("div",xs,[p("span",{class:T(["wh-st-text",s.cssHeaderTitle])},S(s.headerTitle)+"}",3)]),Es],64))]):O("",!0)]),p("div",Ms,[p("span",{class:T(["arrow",{"icon-switch_down2":i.value}])},null,2)]),p("div",Ns,[p("div",bs,[(D(!0),F(k,null,j(s.subMenuData,(A,g)=>(D(),F(k,null,[A.nodeType===C(M).IS_BAR?(D(),z(vs,{isFocus:C(u)&&s.currentFocusItemIndex===g,ref_for:!0,ref:C(f).set,key:g+A.nodeType,"max-size":A.progressMaxSize,"min-size":A.progressMinSize,modelValue:A.progressValue,"onUpdate:modelValue":$=>A.progressValue=$,onOnChange:$=>E(A)},null,8,["isFocus","max-size","min-size","modelValue","onUpdate:modelValue","onOnChange"])):(D(),z(Cs,{id:g,node:A,isFocus:C(u)&&s.currentFocusItemIndex===g,isActive:!C(u)&&a.value===g,key:g+A.name,onClick:ts($=>L(A,g),["stop"])},null,8,["id","node","isFocus","isActive","onClick"]))],64))),256))])]),p("div",ks,[p("span",{class:T(["arrow",{"icon-switch_down2":c.value}])},null,2)])],8,gs))}}),Ss={class:"option-wrapper menu",role:"menu"},Ls=N({__name:"menu",props:{data:null,cssHeaderTitle:null,headerTitle:null,visible:{type:Boolean}},emits:["onEnter","closeMenu"],setup(s,{expose:l,emit:n}){const o=s,a=m([]),y=Z(),i=m(0),c=m(0),u=v(()=>a.value[i.value][c.value]),x=v(()=>L(u.value));let f=m({});function L(t){return f.value={},b(t),f.value}function b(t){t.parent&&(f.value[t.parent.level-1]=t.parent.value,b(t.parent))}function w(t){a.value=a.value.slice(0,t.level),a.value.push(t.children);let _=0;_=t.children.findIndex(E=>E.isChecked),c.value=_>-1?_:0,i.value=t.level}function B(t){t.parent?(i.value-=1,c.value=t.parent.value,a.value=a.value.slice(0,t.level-1)):(a.value=a.value.slice(0,1),i.value=0,c.value=t.value)}function V(){console.log("berforeClose"),n("closeMenu")}function U(t){n("onEnter",t)}function H(){a.value=[o.data.map(t=>new q(t))]}function P(t){y.value[i.value].KEYDOWN(t)}function R(){H(),a.value[0]&&(c.value=a.value[0].findIndex(t=>t.isChecked)),c.value=c.value>-1?c.value:0}return R(),l({activeMenuItemRecord:x,activeMenuItemData:f,menuList:a,currentItemIndex:c,currentMenuIndex:i,currentMenuItemData:u,subMenuRefList:y,KEYDOWN:P}),(t,_)=>os((D(),F("div",Ss,[(D(!0),F(k,null,j(a.value,(E,h)=>(D(),z(Os,{id:h,key:h,ref_for:!0,ref:C(y).set,currentFocusItemIndex:c.value,"onUpdate:currentFocusItemIndex":_[0]||(_[0]=I=>c.value=I),currentFocusMenuIndex:i.value,"onUpdate:currentFocusMenuIndex":_[1]||(_[1]=I=>i.value=I),cssHeaderTitle:s.cssHeaderTitle,headerTitle:s.headerTitle,"sub-menu-data":E,onOpenNextMenu:w,onCollapseSubMenu:B,onBerforeClose:V,onClickItemHandler:U},cs({_:2},[t.$slots.header?{name:"header",fn:J(()=>[Y(t.$slots,"header")])}:void 0]),1032,["id","currentFocusItemIndex","currentFocusMenuIndex","cssHeaderTitle","headerTitle","sub-menu-data"]))),128))],512)),[[ps,s.visible]])}}),ws=[{data:[],iconType:-1,index:0,mlang_key:"MAIN_SELECT_TUNER_MODE",selected:0,type:1},{data:[],iconType:-1,index:1,mlang_key:"MAIN_TI_PROGRAMME_INFO",selected:0,type:1},{data:[{data:[{data:[],iconType:-1,index:0,mlang_key:"OFF",selected:0,type:0},{data:[],iconType:-1,index:1,mlang_key:"ON",selected:1,type:0}],iconType:-1,index:0,mlang_key:"OPTION_UAM_VISU_IMP",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OFF",selected:1,type:0},{data:[],iconType:-1,index:1,mlang_key:"ON",selected:0,type:0}],iconType:-1,index:1,mlang_key:"OPTION_UAM_HEAR_IMP",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OPTION_UAM_VOL_VISU",selected:95,type:2}],iconType:-1,index:2,mlang_key:"OPTION_UAM_VOL_VISU",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OFF",selected:0,type:0},{data:[],iconType:-1,index:1,mlang_key:"ON",selected:1,type:0}],iconType:-1,index:0,mlang_key:"OPTION_UAM_DIALOG_ENHANCE",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OPTION_UAM_DIALOG_ENHANCE_LEVEL",selected:0,type:2}],iconType:-1,index:1,mlang_key:"OPTION_UAM_DIALOG_ENHANCE_LEVEL",selected:0,type:-1}],iconType:-1,index:2,mlang_key:"OPTION_UAM",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OPTION_SUBTITLES_OFF",selected:1,type:0},{data:[],iconType:-1,index:1,mlang_key:"OPTION_SUBTITLES_ON",selected:0,type:0}],iconType:-1,index:3,mlang_key:"OPTION_SBTL",selected:0,type:-1},{data:[{data:[],iconType:-1,index:-1,mlang_key:"MAIN_NONE",name:"None",selected:1,type:1}],iconType:-1,index:4,mlang_key:"OPTION_SBTL_LANG",selected:0,status:0,type:-1},{data:[],index:5,mlang_key:"MAIN_CHANNEL_INFO",type:1},{data:[],index:6,mlang_key:"MAIN_CHANNEL_INSTALLATION",type:1}];const Bs={class:"menu_contain",id:"menu_contain"},Vs=p("div",{style:{"font-size":".3rem",color:"red"}}," i am menu title ",-1),Us=N({__name:"menu",setup(s){const l=m(),n={ArrowDown:"DOWN",ArrowUp:"UP",ArrowLeft:"LEFT",ArrowRight:"RIGHT",Enter:"ENTER",Backspace:"BACK",Escape:"BACK"};return rs(()=>{window.document.addEventListener("keyup",o=>{var a;(a=l.value)==null||a.KEYDOWN(n[o.key])})}),(o,a)=>(D(),F("div",Bs,[X(C(Ls),{data:C(ws),ref_key:"reference",ref:l,visible:!0},{header:J(()=>[Vs]),_:1},8,["data"])]))}}),Hs=p("h1",{id:"menu",tabindex:"-1"},[Q("Menu "),p("a",{class:"header-anchor",href:"#menu","aria-hidden":"true"},"#")],-1),Ps=p("p",null,"tv \u4FA7\u8FB9\u680F Menu",-1),Rs=p("h2",{id:"\u57FA\u7840\u7528\u6CD5",tabindex:"-1"},[Q("\u57FA\u7840\u7528\u6CD5 "),p("a",{class:"header-anchor",href:"#\u57FA\u7840\u7528\u6CD5","aria-hidden":"true"},"#")],-1),$s=is("",5),Ks=JSON.parse('{"title":"Menu","description":"","frontmatter":{"title":"Menu","lang":"en-US"},"headers":[{"level":2,"title":"\u57FA\u7840\u7528\u6CD5","slug":"\u57FA\u7840\u7528\u6CD5"},{"level":3,"title":"\u6E90\u7801\u4F7F\u7528\u65B9\u5F0F","slug":"\u6E90\u7801\u4F7F\u7528\u65B9\u5F0F"},{"level":2,"title":"Menu \u5C5E\u6027","slug":"menu-\u5C5E\u6027"}],"relativePath":"zh-CN/component/menu.md"}'),zs={name:"zh-CN/component/menu.md"},Ws=Object.assign(zs,{setup(s){return(l,n)=>(D(),F("div",null,[Hs,Ps,Rs,X(Us),$s]))}});export{Ks as __pageData,Ws as default};
