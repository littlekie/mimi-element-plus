var es=Object.defineProperty;var ns=(e,o,n)=>o in e?es(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var F=(e,o,n)=>(ns(e,typeof o!="symbol"?o+"":o,n),n);import{T as as,M as ls}from"./chunks/menu.vue_vue_type_style_index_0_scoped_true_lang.9c0b60b5.js";import{_ as G,d as O,a as g,o as d,c as h,u as A,n as E,b as x,e as i,f as W,t as z,r as _,g as os,w as Y,h as j,F as M,i as J,j as b,k as ts,l as ps,v as cs,m as rs,p as X,q as is,s as Q,x as Ds}from"./app.bd691248.js";const ys=["id"],Fs={class:"wh-item-content"},ds={key:1,class:"iconfont menuItem__postfix icon-Keypad_right"},us={key:2,class:"iconfont menuItem__postfix icon-Selection"},Cs=O({__name:"menu-item",props:{node:null,id:null,isFocus:{type:Boolean},isActive:{type:Boolean}},setup(e,{expose:o}){const n=e,t={0:"icon-epg-DVB",1:"icon-epg-TXT",2:"icon-epg-Hearing_Impaired_d",3:"icon-Visually_Impaired_d",4:"icon-epg-Dolby_d",5:"icon-epg_AAC"},a=g(()=>n.node.iconType>-1?t[n.node.iconType]:null),C=g(()=>!n.node.isLeaf&&!n.node.isDisabled),D=g(()=>n.node.isLeaf&&n.node.isChecked);return o({hasExpandIcon:C,hasCheckIcon:D}),(p,u)=>(d(),h("div",{id:e.id+"",class:E(["wh-list-item wh-menu-item",{is_disabled:e.node.isDisabled,highlight:e.isFocus,in_active_path:e.isActive}]),role:"menuItem"},[A(a)?(d(),h("div",{key:0,class:E(["iconfont menuItem__Prefix",A(a)])},null,2)):x("",!0),i("div",Fs,[W(as,{fullScroll:!1,delay:-1e3,"i18n-text":e.node.cssName,text:e.node.cssName?"":e.node.text,active:e.isFocus},null,8,["i18n-text","text","active"]),i("span",null,z(e.node.nameExtra),1)]),A(C)?(d(),h("div",ds)):A(D)?(d(),h("div",us)):x("",!0)],10,ys))}});var As=G(Cs,[["__scopeId","data-v-263d7657"]]);const K={OPTION_UAM_VOL_VISU:[0,100],OPTION_UAM_DIALOG_ENHANCE_LEVEL:[0,9]};var T=(e=>(e[e.IS_DEFAULT=-1]="IS_DEFAULT",e[e.IS_RADIO=0]="IS_RADIO",e[e.IS_BAR=2]="IS_BAR",e))(T||{});class k{constructor(o,n){F(this,"nodeData");F(this,"parent");F(this,"data",[]);F(this,"cssName","");F(this,"label","");F(this,"name","");F(this,"value",0);F(this,"progressValue",0);F(this,"progressMaxSize",0);F(this,"progressMinSize",0);F(this,"level");F(this,"isChecked");F(this,"iconType",-1);F(this,"hasChildren",!1);F(this,"disabled",!1);F(this,"chLockState",!1);F(this,"nodeType",-1);F(this,"children",[]);this.nodeData=o,this.parent=n||null,this.level=this.parent?this.parent.level+1:1,this.isChecked=!1,this.initState(),this.initChildren()}initState(){const{index:o,label:n,name:t,selected:a,iconType:C,type:D,mlang_key:p,disabled:u,chLockState:v}=this.nodeData;this.value=o,this.name=t||"",this.cssName=p||"",this.label=this.cssName,this.isChecked=Boolean(a),this.iconType=C||-1,this.nodeType=D,this.disabled=Boolean(u)||!1,this.chLockState=Boolean(v)||!1,this.nodeType===2&&(this.progressValue=a||0,this.progressMaxSize=K[this.cssName][1],this.progressMinSize=K[this.cssName][0])}initChildren(){const o=this.nodeData.data||[];this.hasChildren=Array.isArray(o)&&o.length>0,this.children=o.map((n,t)=>(n.index=t,new k(n,this)))}get isDisabled(){const{nodeData:o,parent:n}=this;return Boolean(o.disabled)||Boolean(n&&n.isDisabled)}get isLeaf(){return!this.hasChildren}get nameExtra(){return this.nodeData.nameExtra||""}get text(){return this.name}getNodeType(){return this.nodeType}}function Z(){const e=_([]);return e.value.set=o=>{o&&e.value.push(o)},os(()=>{e.value.length=0}),e}function ss(e){return e===void 0}const hs=["id"],_s={class:"wh-sc-header"},vs={class:"wh-sc-header-title"},fs=i("div",{class:"underline"},null,-1),ms={class:"arrow-up iconfont"},Is={class:"wh-sc-content"},gs={class:"wh-sc-content-list"},Ts={class:"arrow-down iconfont"},Es=O({__name:"sub-menu",props:{id:{default:0},subMenuData:null,currentFocusMenuIndex:{default:0},currentFocusItemIndex:{default:0},cssHeaderTitle:null,headerTitle:null},emits:["clickItemHandler","collapseSubMenu","berforeClose","volumeBarAdjust","openNextMenu","update:currentFocusItemIndex","changeFocusItem"],setup(e,{expose:o,emit:n}){const t=e,a=_(0),C=_(0),D=_(!1),p=_(!1),u=g(()=>t.currentFocusMenuIndex===t.id);u.value&&y(t.currentFocusItemIndex);const v=g(()=>t.subMenuData[a.value]),m=Z();Y(()=>t.subMenuData,s=>{if((s==null?void 0:s.length)&&u.value){const c=s.findIndex(r=>r.isChecked);y(c>-1?c:0)}},{deep:!0,immediate:!0});function S(s,c){if(!s.isDisabled){if(!s.isLeaf)return y(c),n("openNextMenu",s);s.nodeType===T.IS_RADIO&&!s.isChecked&&(t.subMenuData[a.value].isChecked=!1,s.isChecked=!0),!s.parent&&s.isLeaf&&n("collapseSubMenu",s),y(c),n("clickItemHandler",s)}}function N(s){var c;(c=f[s])==null||c.call(f)}function w(){const s=t.subMenuData[a.value];s.nodeType===T.IS_RADIO&&!s.isChecked?(V(s),n("clickItemHandler",s)):s.isLeaf?n("clickItemHandler",s):n("openNextMenu",s)}function L(){const{subMenuData:s}=t;let c=a.value;for(let r=s.length-1;r>=0;r--)if(!s[r].isDisabled&&r<a.value)return c=r,c;return c}function B(){const{subMenuData:s}=t;let c=a.value;for(let r=0;r<s.length;r++)if(!s[r].isDisabled&&r>a.value)return c=r,c;return c}function U(){a.value===0?y(t.subMenuData.length-1):y(L())}function P(){a.value===t.subMenuData.length-1?y(0):y(B())}function R(){var s;(s=m.value[0])==null||s.RIGHT()}function H(){var s;(s=m.value[0])==null||s.LEFT()}function q(){v.value.parent?n("collapseSubMenu",v.value):n("berforeClose")}function V(s){s.nodeType===T.IS_RADIO&&!s.isChecked&&(t.subMenuData[C.value].isChecked=!1,s.isChecked=!0)}function l(s){n("volumeBarAdjust",s)}function y(s){C.value=a.value,a.value=s,n("update:currentFocusItemIndex",s),n("changeFocusItem",t.subMenuData[s])}const f={DOWN:P,UP:U,RIGHT:R,LEFT:H,ENTER:w,BACK:q};return o({menuItemActiveIndex:a,activeMenu:u,KEYDOWN:N,lastMenuItemActiveIndex:C}),(s,c)=>(d(),h("div",{id:"sidebar_"+e.id,class:"wh-sidebar",role:"subMenu"},[i("div",_s,[e.id===0?j(s.$slots,"header",{key:0},()=>[A(ss)(e.cssHeaderTitle||e.headerTitle)?x("",!0):(d(),h(M,{key:0},[i("div",vs,[i("span",{class:E(["wh-st-text",e.cssHeaderTitle])},z(e.headerTitle),3)]),fs],64))]):x("",!0)]),i("div",ms,[i("span",{class:E(["arrow",{"icon-switch_down2":D.value}])},null,2)]),i("div",Is,[i("div",gs,[(d(!0),h(M,null,J(e.subMenuData,(r,I)=>(d(),h(M,null,[r.nodeType===A(T).IS_BAR?(d(),b(ls,{isFocus:A(u)&&e.currentFocusItemIndex===I,ref_for:!0,ref:A(m).set,key:I+r.nodeType,"max-size":r.progressMaxSize,"min-size":r.progressMinSize,modelValue:r.progressValue,"onUpdate:modelValue":$=>r.progressValue=$,onOnChange:$=>l(r)},null,8,["isFocus","max-size","min-size","modelValue","onUpdate:modelValue","onOnChange"])):(d(),b(As,{id:I,node:r,isFocus:A(u)&&e.currentFocusItemIndex===I,isActive:!A(u)&&a.value===I,key:I+r.name,onClick:ts($=>S(r,I),["stop"])},null,8,["id","node","isFocus","isActive","onClick"]))],64))),256))])]),i("div",Ts,[i("span",{class:E(["arrow",{"icon-switch_down2":p.value}])},null,2)])],8,hs))}}),Ms={class:"option-wrapper menu",role:"menu"},xs=O({__name:"menu",props:{data:null,cssHeaderTitle:null,headerTitle:null,visible:{type:Boolean}},emits:["changeFocusItem","onEnter","closeMenu"],setup(e,{expose:o,emit:n}){const t=e,a=_([]),C=Z(),D=_(0),p=_(0),u=g(()=>a.value[D.value][p.value]),v=g(()=>S(u.value));let m=_({});function S(l){return m.value={},N(l),m.value}function N(l){l.parent&&(m.value[l.parent.level-1]=l.parent.value,N(l.parent))}function w(l){a.value=a.value.slice(0,l.level),a.value.push(l.children);let y=0;y=l.children.findIndex(f=>f.isChecked),p.value=y>-1?y:0,D.value=l.level}function L(l){l.parent?(D.value-=1,p.value=l.parent.value,a.value=a.value.slice(0,l.level-1)):(a.value=a.value.slice(0,1),D.value=0,p.value=l.value)}function B(){console.log("berforeClose"),n("closeMenu")}function U(l){n("changeFocusItem",l)}function P(l){n("onEnter",l)}function R(){a.value=[t.data.map(l=>new k(l))]}function H(l){C.value[D.value].KEYDOWN(l)}function q(){R(),a.value[0]&&(p.value=a.value[0].findIndex(l=>l.isChecked)),p.value=p.value>-1?p.value:0}function V(){const l=[t.data.map(f=>new k(f))],y=v.value;v.value[0],a.value.forEach((f,s)=>{const c=y[s-1];ss(c)?a.value[0]=l[0]:a.value[s]=a.value[s-1][c].children})}return Y(()=>t.data,V),q(),o({activeMenuItemRecord:v,activeMenuItemData:m,menuList:a,currentItemIndex:p,currentMenuIndex:D,currentMenuItemData:u,subMenuRefList:C,KEYDOWN:H}),(l,y)=>ps((d(),h("div",Ms,[(d(!0),h(M,null,J(a.value,(f,s)=>(d(),b(Es,{id:s,key:s,ref_for:!0,ref:A(C).set,currentFocusItemIndex:p.value,"onUpdate:currentFocusItemIndex":y[0]||(y[0]=c=>p.value=c),currentFocusMenuIndex:D.value,"onUpdate:currentFocusMenuIndex":y[1]||(y[1]=c=>D.value=c),cssHeaderTitle:e.cssHeaderTitle,headerTitle:e.headerTitle,"sub-menu-data":f,onOpenNextMenu:w,onChangeFocusItem:U,onCollapseSubMenu:L,onBerforeClose:B,onClickItemHandler:P},rs({_:2},[l.$slots.header?{name:"header",fn:X(()=>[j(l.$slots,"header",{},void 0,!0)])}:void 0]),1032,["id","currentFocusItemIndex","currentFocusMenuIndex","cssHeaderTitle","headerTitle","sub-menu-data"]))),128))],512)),[[cs,e.visible]])}});var Ns=G(xs,[["__scopeId","data-v-3b60b2aa"]]);const bs=[{data:[],iconType:-1,index:0,mlang_key:"MAIN_SELECT_TUNER_MODE",selected:0,type:1},{data:[],iconType:-1,index:1,mlang_key:"MAIN_TI_PROGRAMME_INFO",selected:0,type:1},{data:[{data:[{data:[],iconType:-1,index:0,mlang_key:"OFF",selected:0,type:0},{data:[],iconType:-1,index:1,mlang_key:"ON",selected:1,type:0}],iconType:-1,index:0,mlang_key:"OPTION_UAM_VISU_IMP",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OFF",selected:1,type:0},{data:[],iconType:-1,index:1,mlang_key:"ON",selected:0,type:0}],iconType:-1,index:1,mlang_key:"OPTION_UAM_HEAR_IMP",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OPTION_UAM_VOL_VISU",selected:95,type:2}],iconType:-1,index:2,mlang_key:"OPTION_UAM_VOL_VISU",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OFF",selected:0,type:0},{data:[],iconType:-1,index:1,mlang_key:"ON",selected:1,type:0}],iconType:-1,index:0,mlang_key:"OPTION_UAM_DIALOG_ENHANCE",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OPTION_UAM_DIALOG_ENHANCE_LEVEL",selected:0,type:2}],iconType:-1,index:1,mlang_key:"OPTION_UAM_DIALOG_ENHANCE_LEVEL",selected:0,type:-1}],iconType:-1,index:2,mlang_key:"OPTION_UAM",selected:0,type:-1},{data:[{data:[],iconType:-1,index:0,mlang_key:"OPTION_SUBTITLES_OFF",selected:1,type:0},{data:[],iconType:-1,index:1,mlang_key:"OPTION_SUBTITLES_ON",selected:0,type:0}],iconType:-1,index:3,mlang_key:"OPTION_SBTL",selected:0,type:-1},{data:[{data:[],iconType:-1,index:-1,mlang_key:"MAIN_NONE",name:"None",selected:1,type:1}],iconType:-1,index:4,mlang_key:"OPTION_SBTL_LANG",selected:0,status:0,type:-1},{data:[],index:5,mlang_key:"MAIN_CHANNEL_INFO",type:1},{data:[],index:6,mlang_key:"MAIN_CHANNEL_INSTALLATION",type:1}];const ks={class:"menu_contain",id:"menu_contain"},Os=i("div",{style:{"font-size":".3rem",color:"red"}}," i am menu title ",-1),Ss=O({__name:"menu",setup(e){const o=_(),n={ArrowDown:"DOWN",ArrowUp:"UP",ArrowLeft:"LEFT",ArrowRight:"RIGHT",Enter:"ENTER",Backspace:"BACK",Escape:"BACK"};is(()=>{window.document.addEventListener("keyup",D=>{var p;(p=o.value)==null||p.KEYDOWN(n[D.key])})});const t=_(!1),a=_();function C(D){a.value=D}return(D,p)=>{var u;return d(),h(M,null,[i("div",ks,[t.value?(d(),b(A(Ns),{key:0,data:A(bs),onCloseMenu:p[0]||(p[0]=v=>t.value=!1),onChangeFocusItem:C,ref_key:"reference",ref:o,visible:t.value},{header:X(()=>[Os]),_:1},8,["data","visible"])):x("",!0)]),i("div",null," \u5F53\u524D\u9009\u4E2D\u7684\u83DC\u5355\u662F\uFF1A"+z((u=a.value)==null?void 0:u.cssName),1),i("button",{style:{background:"#A3FE65"},onClick:p[1]||(p[1]=v=>t.value=!t.value)},"toggle menu")],64)}}}),ws=i("h1",{id:"menu",tabindex:"-1"},[Q("Menu "),i("a",{class:"header-anchor",href:"#menu","aria-hidden":"true"},"#")],-1),Ls=i("p",null,"tv \u4FA7\u8FB9\u680F Menu",-1),Bs=i("h2",{id:"\u57FA\u7840\u7528\u6CD5",tabindex:"-1"},[Q("\u57FA\u7840\u7528\u6CD5 "),i("a",{class:"header-anchor",href:"#\u57FA\u7840\u7528\u6CD5","aria-hidden":"true"},"#")],-1),Us=Ds("",5),Vs=JSON.parse('{"title":"Menu","description":"","frontmatter":{"title":"Menu","lang":"en-US"},"headers":[{"level":2,"title":"\u57FA\u7840\u7528\u6CD5","slug":"\u57FA\u7840\u7528\u6CD5"},{"level":3,"title":"\u6E90\u7801\u4F7F\u7528\u65B9\u5F0F","slug":"\u6E90\u7801\u4F7F\u7528\u65B9\u5F0F"},{"level":2,"title":"Menu \u5C5E\u6027","slug":"menu-\u5C5E\u6027"}],"relativePath":"zh-CN/component/menu.md"}'),Ps={name:"zh-CN/component/menu.md"},$s=Object.assign(Ps,{setup(e){return(o,n)=>(d(),h("div",null,[ws,Ls,Bs,W(Ss),Us]))}});export{Vs as __pageData,$s as default};
