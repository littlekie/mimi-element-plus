import{a as q,u as o,_ as N,d as B,o as A,c as g,h as f,n as _,C as S,D as L,e as u,t as V,b as I,k as X,r as k,w as T,q as W,E as P,j as R,p as v,s as w,F as J,G as Q,l as Z,v as ss,f as b,m as ns,z as as,H as ls,I as os,x as es}from"./app.bd691248.js";import"./chunks/mixins.97ba5d4a.js";const ps="rec",ts="is-",E=(s,n,c,a,e)=>{let D=`${s}-${n}`;return c&&(D+=`-${c}`),a&&(D+=`__${a}`),e&&(D+=`--${e}`),D},Y=s=>{const n=q(()=>ps);return{namespace:n,b:(l="")=>E(o(n),s,l,"",""),e:l=>l?E(o(n),s,"",l,""):"",m:l=>l?E(o(n),s,"","",l):"",be:(l,y)=>l&&y?E(o(n),s,l,y,""):"",em:(l,y)=>l&&y?E(o(n),s,"",l,y):"",bm:(l,y)=>l&&y?E(o(n),s,l,"",y):"",bem:(l,y,i)=>l&&y&&i?E(o(n),s,l,y,i):"",is:(l,...y)=>{const i=y.length>=1?y[0]:!0;return l&&i?`${ts}${l}`:""},cssVar:l=>{const y={};for(const i in l)y[`--${n.value}-${i}`]=l[i];return y},cssVarName:l=>`--${n.value}-${l}`,cssVarBlock:l=>{const y={};for(const i in l)y[`--${n.value}-${s}-${i}`]=l[i];return y},cssVarBlockName:l=>`--${n.value}-${s}-${l}`}},O=Symbol("dialogInjectionKey"),x=s=>s;const cs=B({__name:"overlay",props:{mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:x([String,Array,Object])},zIndex:{type:x([String,Number])}},emits:{click:s=>s instanceof MouseEvent},setup(s,{emit:n}){const c=e=>{n("click",e)},a=Y("overlay");return(e,D)=>s.mask?(A(),g("div",{key:0,class:_([o(a).b(),o(a).m("mask"),s.overlayClass]),style:S({zIndex:s.zIndex}),onClick:D[0]||(D[0]=C=>s.customMaskEvent?()=>{}:c)},[f(e.$slots,"default",{},void 0,!0)],6)):(A(),g("div",{key:1,class:_([o(a).b(),o(a).m("fixed"),s.overlayClass]),style:S({zIndex:s.zIndex})},[f(e.$slots,"default",{},void 0,!0)],6))}});var rs=N(cs,[["__scopeId","data-v-3d49cd29"]]);const U={center:{type:Boolean,default:!1},customClass:{type:String,default:""},showClose:{type:Boolean,default:!1},title:{type:String,default:""}},ys={close:()=>!0};const Ds=B({__name:"dialog-content",props:U,emits:ys,setup(s){const{style:n,ns:c}=L(O);return(a,e)=>(A(),g("div",{class:_([o(c).b(),a.customClass]),style:S(o(n)),onClick:e[1]||(e[1]=X(()=>{},["stop"]))},[u("header",{class:_(o(c).e("header"))},[f(a.$slots,"header",{},()=>[u("div",null,V(a.title),1)],!0),a.showClose?(A(),g("span",{key:0,class:"closeIcon",onClick:e[0]||(e[0]=D=>a.$emit("close"))},"\xA0\xA0x\xA0\xA0")):I("",!0)],2),u("div",{class:_(o(c).e("body"))},[f(a.$slots,"default",{},void 0,!0)],2),a.$slots.footer?(A(),g("footer",{key:0,class:_(o(c).e("footer"))},[f(a.$slots,"footer",{},void 0,!0)],2)):I("",!0)],6))}});var Fs=N(Ds,[["__scopeId","data-v-a904a658"]]);const Cs=B({__name:"button",props:{active:Boolean},setup(s){return(n,c)=>(A(),g("button",{ref:"_ref",class:_([s.active?"active":""])},[f(n.$slots,"default",{},void 0,!0)],2))}});var z=N(Cs,[["__scopeId","data-v-415aa612"]]);const is=s=>{const c=P().emit,a=k(!1);function e(){function F($){$||p()}s.beforeClose?s.beforeClose(F):p()}function D(){s.onModalClickClose&&e()}function C(){a.value=!0}function p(){a.value=!1}const r=q(()=>{const F={};return s.top&&(F["margin-top"]=s.top),s.width&&(F.width=s.width),F});return T(()=>s.modelValue,F=>{F?(C(),c("open")):a.value&&p()}),T(a,F=>{F===!1&&c("update:modelValue",!1)}),W(()=>{s.modelValue&&(a.value=!0,C())}),{visible:a,style:r,handleClose:e,onModalClick:D}};var d=(s=>(s.CANCEL="Cancel Button",s.CONFIRM="Confirm Button",s))(d||{});const As=s=>{const n=k(d.CANCEL),a=P().emit,{visible:e}=L(O);s.focusControl&&T(e,M=>{M&&p()});const D=q(()=>n.value===d.CANCEL),C=q(()=>n.value===d.CONFIRM),p=()=>{s.hasCancel&&s.hasConfirm?r(s.defaultFocus):s.hasCancel?r(d.CANCEL):s.hasConfirm&&r(d.CONFIRM)},r=M=>{n.value=M},F=()=>{r(d.CANCEL),h()},$=()=>{r(d.CONFIRM),h()},t=()=>{s.hasCancel&&r(d.CANCEL)},m=()=>{s.hasConfirm&&r(d.CONFIRM)},h=()=>{D.value?a("cancel"):C.value&&a("confirm")},l=()=>{a("close")},i={LEFT:t,RIGHT:m,ENTER:h,BACK:l,EXIT:l};return{isCancelButton:D,isConfirmButton:C,KEYDOWN:M=>{var K;const H=(M.action||"").toUpperCase();s.focusControl&&((K=i[H])==null||K.call(i))},handleClickCancel:F,handleClickConfirm:$}},j={close:()=>!0,cancel:()=>!0,confirm:()=>!0},G={hasCancel:{type:Boolean,default:!0},hasConfirm:{type:Boolean,default:!0},cancelText:{type:String,default:"cancel_btn"},confirmText:{type:String,default:"confirm_btn"},defaultFocus:{type:String,default:d.CANCEL},focusControl:{type:Boolean,default:!0}},ds=B({__name:"dialog-footer",props:G,emits:j,setup(s,{expose:n}){const c=s,{KEYDOWN:a,isCancelButton:e,isConfirmButton:D,handleClickCancel:C,handleClickConfirm:p}=As(c);return n({KEYDOWN:a}),(r,F)=>(A(),g(J,null,[r.hasCancel?(A(),R(o(z),{key:0,active:o(e),onClick:o(C)},{default:v(()=>[w(V(r.cancelText),1)]),_:1},8,["active","onClick"])):I("",!0),r.hasConfirm?(A(),R(o(z),{key:1,active:o(D),onClick:o(p)},{default:v(()=>[w(V(r.confirmText),1)]),_:1},8,["active","onClick"])):I("",!0)],64))}}),us={...U,...G,modelValue:{type:Boolean,default:!1},beforeClose:{type:x(Function)},onModalClickClose:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalClass:String,top:{type:String},width:{type:[String,Number]}};({...j,["update:modelValue"]:0});const fs=B({__name:"index",props:us,setup(s,{expose:n}){const c=s,{onModalClick:a,handleClose:e,style:D,visible:C}=is(c),p=Y("dialogModal");Q(O,{style:D,ns:p,visible:C});const r=k(),F=k();return n({dialogContentRef:r,visible:C,KEYDOWN:t=>{F.value.KEYDOWN(t)}}),(t,m)=>Z((A(),R(rs,{mask:t.modal,"overlay-class":t.modalClass},{default:v(()=>[u("div",{role:"dialog","aria-model":"true",class:_(["overlayDialog",`${o(p).namespace.value}-overlay-dialog`]),onClick:m[2]||(m[2]=(...h)=>o(a)&&o(a)(...h))},[b(Fs,{"custom-class":t.customClass,center:t.center,"show-close":t.showClose,title:t.title,onClose:o(e),ref_key:"dialogContentRef",ref:r},ns({header:v(()=>[t.$slots.title?f(t.$slots,"title",{key:1},void 0,!0):f(t.$slots,"header",{key:0,close:o(e)},void 0,!0)]),default:v(()=>[f(t.$slots,"default",{},void 0,!0)]),_:2},[t.$slots.footer?{name:"footer",fn:v(()=>[f(t.$slots,"footer",{},void 0,!0)])}:{name:"footer",fn:v(()=>[b(ds,{ref_key:"defaultDialogFooter",ref:F,"cancel-text":t.cancelText,"confirm-text":t.confirmText,"default-focus":t.defaultFocus,"focus-control":t.focusControl,"has-cancel":t.hasCancel,"has-confirm":t.hasConfirm,onClose:o(e),onCancel:m[0]||(m[0]=h=>t.$emit("cancel")),onConfirm:m[1]||(m[1]=h=>t.$emit("confirm"))},null,8,["cancel-text","confirm-text","default-focus","focus-control","has-cancel","has-confirm","onClose"])])}]),1032,["custom-class","center","show-close","title","onClose"])],2)]),_:3},8,["mask","overlay-class"])),[[ss,o(C)]])}});var ms=N(fs,[["__scopeId","data-v-4a6e8efa"]]);const vs=s=>(ls("data-v-fe3b0118"),s=s(),os(),s),gs={class:"dialogWrapper"},hs=w("header tip text"),_s=vs(()=>u("span",null,"This is a message",-1)),Es=B({__name:"show",setup(s){const n=k(!1),c=k(),a=p=>{p()},e=()=>{console.log("dialog cancel"),n.value=!1},D=()=>{console.log("dialog confirm"),n.value=!1};W(()=>{document.onkeydown=C}),as(()=>{document.onkeydown=null});const C=p=>{console.log(p),p.key==="ArrowRight"?p.action="Right":p.key==="ArrowLeft"?p.action="Left":p.key==="Enter"?p.action="Enter":p.key==="Backspace"&&(p.action="Back"),c.value.KEYDOWN(p)};return(p,r)=>(A(),g("div",gs,[u("div",{onClick:r[0]||(r[0]=F=>n.value=!0),class:"resetButton"}," reset "),b(o(ms),{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=F=>n.value=F),ref_key:"dialogModalRef",ref:c,title:"Tips",width:"50%","before-close":a,onCancel:e,onConfirm:D,"has-cancel":!0,"has-confirm":!0},{header:v(()=>[hs]),default:v(()=>[_s]),_:1},8,["modelValue"])]))}});var ks=N(Es,[["__scopeId","data-v-fe3b0118"]]);const Bs=u("h1",{id:"modal",tabindex:"-1"},[w("Modal "),u("a",{class:"header-anchor",href:"#modal","aria-hidden":"true"},"#")],-1),$s=u("p",null,"Modal",-1),Ms=u("h2",{id:"\u57FA\u7840\u7528\u6CD5",tabindex:"-1"},[w("\u57FA\u7840\u7528\u6CD5 "),u("a",{class:"header-anchor",href:"#\u57FA\u7840\u7528\u6CD5","aria-hidden":"true"},"#")],-1),ws=es("",2),Ss=JSON.parse('{"title":"Modal","description":"","frontmatter":{"title":"Modal","lang":"en-US"},"headers":[{"level":2,"title":"\u57FA\u7840\u7528\u6CD5","slug":"\u57FA\u7840\u7528\u6CD5"},{"level":3,"title":"\u6E90\u7801\u4F7F\u7528\u65B9\u5F0F","slug":"\u6E90\u7801\u4F7F\u7528\u65B9\u5F0F"}],"relativePath":"zh-CN/component/modal.md"}'),Ns={name:"zh-CN/component/modal.md"},Vs=Object.assign(Ns,{setup(s){return(n,c)=>(A(),g("div",null,[Bs,$s,Ms,b(ks),ws]))}});export{Ss as __pageData,Vs as default};
